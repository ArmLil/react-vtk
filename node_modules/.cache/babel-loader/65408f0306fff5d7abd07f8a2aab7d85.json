{"ast":null,"code":"var _jsxFileName = \"/home/lilit/workspace/vtk/from_scratch_frontend_vtk/src/containers/Locations.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport LocationTable from \"../components/LocationTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Location = () => {\n  _s();\n\n  const [showAddLocation, setShowAddLocation] = useState(false);\n  const [tasks, setLocations] = useState([]);\n  useEffect(() => {\n    const getLocations = async () => {\n      const tasksFromServer = await fetchLocations();\n      setLocations(tasksFromServer);\n    };\n\n    getLocations();\n  }, []); // Fetch Locations\n\n  const fetchLocations = async () => {\n    const res = await fetch(\"http://localhost:3001/api/v1/locations\", {\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    });\n    const data = await res.json();\n    return data;\n  }; // Fetch Location\n\n\n  const fetchLocation = async id => {\n    const res = await fetch(`http://localhost:3001/api/v1/locations/${id}`);\n    const data = await res.json();\n    return data;\n  }; // Add Location\n\n\n  const addLocation = async task => {\n    const res = await fetch(\"http://localhost:3001/api/v1/locations/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(task)\n    });\n    const data = await res.json();\n    setLocations([...tasks, data]); // const id = Math.floor(Math.random() * 10000) + 1\n    // const newLocation = { id, ...task }\n    // setLocations([...tasks, newLocation])\n  }; // Delete Location\n\n\n  const deleteLocation = async id => {\n    const res = await fetch(`http://localhost:3001/api/v1/locations/${id}`, {\n      method: \"DELETE\"\n    }); //We should control the response status to decide if we will change the state or not.\n\n    res.status === 200 ? setLocations(tasks.filter(task => task.id !== id)) : alert(\"Error Deleting This Location\");\n  }; // Toggle Reminder\n\n\n  const toggleReminder = async id => {\n    const taskToToggle = await fetchLocation(id);\n    const updLocation = { ...taskToToggle,\n      reminder: !taskToToggle.reminder\n    };\n    const res = await fetch(`http://localhost:3001/api/v1/locations/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(updLocation)\n    });\n    const data = await res.json();\n    setLocations(tasks.map(task => task.id === id ? { ...task,\n      reminder: data.reminder\n    } : task));\n  };\n\n  return /*#__PURE__*/_jsxDEV(LocationTable, {\n    tasks: tasks\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Location, \"wE+uZubZ16vjAa/7lYaGyPotquY=\");\n\n_c = Location;\nexport default Location;\n\nvar _c;\n\n$RefreshReg$(_c, \"Location\");","map":{"version":3,"sources":["/home/lilit/workspace/vtk/from_scratch_frontend_vtk/src/containers/Locations.js"],"names":["useState","useEffect","LocationTable","Location","showAddLocation","setShowAddLocation","tasks","setLocations","getLocations","tasksFromServer","fetchLocations","res","fetch","headers","data","json","fetchLocation","id","addLocation","task","method","body","JSON","stringify","deleteLocation","status","filter","alert","toggleReminder","taskToToggle","updLocation","reminder","map"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport LocationTable from \"../components/LocationTable\";\n\nconst Location = () => {\n  const [showAddLocation, setShowAddLocation] = useState(false);\n  const [tasks, setLocations] = useState([]);\n\n  useEffect(() => {\n    const getLocations = async () => {\n      const tasksFromServer = await fetchLocations();\n      setLocations(tasksFromServer);\n    };\n\n    getLocations();\n  }, []);\n\n  // Fetch Locations\n  const fetchLocations = async () => {\n    const res = await fetch(\"http://localhost:3001/api/v1/locations\", {\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    });\n    const data = await res.json();\n\n    return data;\n  };\n\n  // Fetch Location\n  const fetchLocation = async id => {\n    const res = await fetch(`http://localhost:3001/api/v1/locations/${id}`);\n    const data = await res.json();\n\n    return data;\n  };\n\n  // Add Location\n  const addLocation = async task => {\n    const res = await fetch(\"http://localhost:3001/api/v1/locations/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(task)\n    });\n\n    const data = await res.json();\n\n    setLocations([...tasks, data]);\n\n    // const id = Math.floor(Math.random() * 10000) + 1\n    // const newLocation = { id, ...task }\n    // setLocations([...tasks, newLocation])\n  };\n\n  // Delete Location\n  const deleteLocation = async id => {\n    const res = await fetch(`http://localhost:3001/api/v1/locations/${id}`, {\n      method: \"DELETE\"\n    });\n    //We should control the response status to decide if we will change the state or not.\n    res.status === 200\n      ? setLocations(tasks.filter(task => task.id !== id))\n      : alert(\"Error Deleting This Location\");\n  };\n\n  // Toggle Reminder\n  const toggleReminder = async id => {\n    const taskToToggle = await fetchLocation(id);\n    const updLocation = { ...taskToToggle, reminder: !taskToToggle.reminder };\n\n    const res = await fetch(`http://localhost:3001/api/v1/locations/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(updLocation)\n    });\n\n    const data = await res.json();\n\n    setLocations(\n      tasks.map(task =>\n        task.id === id ? { ...task, reminder: data.reminder } : task\n      )\n    );\n  };\n\n  return <LocationTable tasks={tasks} />;\n};\n\nexport default Location;\n"]},"metadata":{},"sourceType":"module"}